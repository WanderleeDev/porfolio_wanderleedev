---
import { extra_projects, sections } from "../data";
import BaseLayout from "../layout/BaseLayout.astro";
import SubPageLayout from "../layout/SubPageLayout.astro";
import FolderContainer from "../components/FolderContainer.astro";
import Icon from "astro-iconify";

const data = sections.flat().find(section => section.name === 'extras');
const extraProjects = extra_projects;
---
<BaseLayout title="extras">
  {
    data && (
    <SubPageLayout title={data.name} backgroundColor={data.backgroundColor} index={data.index}>
      <FolderContainer 
        index={data.index} 
        title={data.name} 
        backgroundClass={data.backgroundColor}
      >
      <ul class="grid sm:grid-cols-2 gap-8">
        {
          extraProjects.map(({title, link, icon, description}) => (
            <li class="@container bg-gradient-to-br from-slate-800/60 to-slate-900/60 hover:from-slate-800/80 hover:to-slate-900/80 transition-transform transform hover:-translate-y-1 shadow-lg rounded-xl p-3 ring-1 ring-slate-700 hover:ring-sky-600 focus-within:ring-sky-500">
              <a
              class="flex items-center gap-4 p-2 rounded-md focus:outline-none"
              href={link}
              target="_blank"
              rel="noopener noreferrer"
              title={description}
              aria-label={`${title} - ${description}`}
              >
              <span class="flex items-center justify-center w-12 h-12 rounded-full bg-sky-900/25 text-sky-400 flex-shrink-0">
              <Icon class="w-6 h-6" name={`devicon:${icon.toLowerCase()}`} />
              </span>

              <div class="min-w-0 flex-1">
              <div class="text-sm font-semibold text-white truncate">{title}</div>
              <div class="text-xs text-slate-300 mt-1 truncate @[400px]:block hidden">{description}</div>
              </div>

              <span class="ml-2 inline-flex items-center text-slate-400">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
              </svg>
              </span>
              </a>
            </li>
          ))
        }
      </ul>
      </FolderContainer>
    </SubPageLayout>)
  }
</BaseLayout>
